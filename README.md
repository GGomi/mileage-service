# 클럽 마일리지 서비스

# 목차
- [1. 프로젝트 환경](#1.-프로젝트-환경)
- [2. 기능정의](#2.-기능정의)
  * [기능 구현](#기능-구현)
- [3. 데이터베이스 설계](#3.-데이터베이스-설계)
- [4. API 정보](#4.-api-정보)
  - [API 목록](#API-목록)
- [5. 문제 해결방안 및 시나리오](#5.-문제-해결방안-및-시나리오)
  * [문제방안](#문제방안)
  * [시나리오](#시나리오)

# 1. 프로젝트 환경
- 프론트엔드
  - ??
- 백엔드
  - Spring Boot
  - Spring Data JPA
  - JAVA 8
  - Mockito
  - Lombock
  - Mysql 5.7(Database)

# 2. 기능정의
## 기능 구현
- [x] 사용자는 리뷰를 작성할 수 있다.
- [ ] 사용자는 현재시점의 포인트 총점을 조회할 수 있다.
- [ ] 사용자는 포인트를 계산할 수 있다.
  - 내용점수
    - [X] 1자 이상 텍스트 작성 : `+1`
    - [x] 1장 이상 사진 첨부 : `+1`
  - 보너스 점수
    - [ ] 특정 장소에 첫 리뷰 작성 시 : `+1`
- [x] 사용자는 리뷰를 삭제, 수정시 얻었던 마일리지를 삭감당하게된다.
  - 수정
    - [ ] 사진 추가 / 삭제 : `+1 / -1`
  - 삭제
    - [ ] 글 삭제 : 기본 `-1` / 사진포함 `-1` / 첫 리뷰 `-1`

# 3. 데이터베이스 설계
- Entity
  - Review => id: `reviewId`
  - Place => id: `placeId`
  - Mileage => id: `userId`
  - history => id: `placeId & userId`
- Place는 Review를 여러개 가질 수 있다. : `OneToMany`
- user는 review를 여러개 가질 수 있다. : `OneToMany`


# 4. API 정보
## API 목록
Method|URL|description
-|-|-
POST|/api/v1/events|리뷰 작성
POST|/api/v1/mileage|포인트 적립
GET|/api/v1/mileage/{user_id}|사용자 포인트 확인


# 5. 문제 해결방안 및 시나리오
## 문제방안
## 시나리오

# 6. 예외
- 내 글만 지우고, 수정할 수 있게해야함
- 